webpackJsonp([10],{"8w0F":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var p=e("M4fF"),i=e.n(p),n=e("PJh5"),r=e.n(n),l={data:function(){return{params:{pagination:{pageNo:1,pageSize:20,totalCount:1},query:{appName:"",appId:""}},addFormVisible:!1,formLabelWidth:"120px",appInfo:{id:"",appName:"",appId:"",appKey:"",description:"",appStatus:1},statusList:[{value:"",label:"全部"},{value:1,label:"可用"},{value:0,label:"禁用"}],allResource:[],resourceList:[{id:1,appName:"游戏交易平台",appKey:"1jfudh8e",appId:"GAMETRADE",description:"游戏交易平台接入推荐系统使用",appStatus:1}],loading:!1}},computed:{queryCondition:function(){var t=i.a.assign({},this.params.pagination);return t=i.a.assign(t,this.params.query)},dialogTitle:function(){return"添加应用"},leftSpan:function(){return 1===this.params.query.accountType?10:13}},mounted:function(){this.fetchList()},attached:function(){},methods:{formatDate:function(t,a){return r()(t[a.property]).format("YYYY-MM-DD HH:mm")},formatStatus:function(t,a){return 1===t[a.property]?"可用":"禁用"},handleSizeChange:function(t){this.params.pagination.pageSize=t,this.fetchList()},handleCurrentChange:function(t){this.params.pagination.pageNo=t,this.fetchList()},addApp:function(){this.appInfo={id:"",appName:"",appId:"",appKey:"",description:"",appStatus:1},this.addFormVisible=!0},editApp:function(t){this.addFormVisible=!0,this.appInfo=t},save:function(){var t=this;this.$http.post("admin/app/save",this.appInfo).then(function(a){t.$message("保存成功"),t.fetchList(),t.addFormVisible=!1})},fetchList:function(){var t=this;this.$http.get("admin/app/list",{params:this.queryCondition}).then(function(a){t.resourceList=a.data.data.listData,t.params.pagination.totalCount=a.data.data.totalCount},function(t){console.log(t)})}},components:{}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),e("el-breadcrumb-item",[t._v("系统接入")]),t._v(" "),e("el-breadcrumb-item",[t._v("系统列表")])],1),t._v(" "),e("div",{staticStyle:{"margin-top":"10px"}},[e("el-form",{attrs:{inline:!0}},[e("div",{staticClass:"queryForm"},[e("el-form-item",[e("el-input",{attrs:{placeholder:"应用名称"},model:{value:t.params.query.appName,callback:function(a){t.$set(t.params.query,"appName",a)},expression:"params.query.appName"}})],1),t._v(" "),e("el-form-item",[e("el-input",{attrs:{placeholder:"应用ID"},model:{value:t.params.query.appId,callback:function(a){t.$set(t.params.query,"appId",a)},expression:"params.query.appId"}})],1),t._v(" "),e("el-form-item",[e("el-button",{nativeOn:{click:function(a){return a.preventDefault(),t.fetchList(a)}}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),t._v("\n            查询\n          ")])],1)],1),t._v(" "),e("div",{staticClass:"addOperate"},[e("el-button",{nativeOn:{click:function(a){return a.preventDefault(),t.addApp(a)}}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v("\n          添加应用\n        ")])],1)])],1),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resourceList,stripe:"",border:""}},[e("el-table-column",{attrs:{property:"id",label:"ID"}}),t._v(" "),e("el-table-column",{attrs:{property:"appName",label:"应用名称"}}),t._v(" "),e("el-table-column",{attrs:{property:"appId",label:"appId"}}),t._v(" "),e("el-table-column",{attrs:{property:"appKey",label:"appKey"}}),t._v(" "),e("el-table-column",{attrs:{property:"description",label:"描述"}}),t._v(" "),e("el-table-column",{attrs:{property:"appStatus",label:"状态",formatter:t.formatStatus}}),t._v(" "),e("el-table-column",{attrs:{property:"createTime",label:"创建时间",formatter:t.formatDate}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){e.preventDefault(),t.editApp(a.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),e("div",{staticClass:"page-block"},[e("el-pagination",{attrs:{"current-page":t.params.pagination.pageNo,"page-sizes":[20,50,100,200],"page-size":t.params.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.params.pagination.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.addFormVisible},on:{"update:visible":function(a){t.addFormVisible=a}}},[e("el-form",{ref:"form",attrs:{model:t.appInfo,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"应用名称","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.appInfo.appName,callback:function(a){t.$set(t.appInfo,"appName",a)},expression:"appInfo.appName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"appId","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:""!==t.appInfo.id},model:{value:t.appInfo.appId,callback:function(a){t.$set(t.appInfo,"appId",a)},expression:"appInfo.appId"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"应用状态","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"状态"},model:{value:t.appInfo.appStatus,callback:function(a){t.$set(t.appInfo,"appStatus",a)},expression:"appInfo.appStatus"}},t._l(t.statusList,function(a){return""!==a.value?e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}}):t._e()}))],1),t._v(" "),e("el-form-item",{attrs:{label:"应用描述","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.appInfo.description,callback:function(a){t.$set(t.appInfo,"description",a)},expression:"appInfo.description"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{nativeOn:{click:function(a){t.addFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=e("VU/8")(l,o,!1,function(t){e("fd9W")},"data-v-4e6b8712",null);a.default=s.exports},fd9W:function(t,a){}});
//# sourceMappingURL=10.f99719a31249f8026ec4.js.map